/**
 * Description : customs.css - ğŸ“Œ UI íŒ¨í‚¤ì§€ í†µí•© ì»¤ìŠ¤í…€ CSS ìŠ¤íƒ€ì¼
 * Author : Shiwoo Min
 * Date : 2025-09-17
 */

// Tailwind CSS ì§€ì‹œë¬¸
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =================================================================
    Base Layer - ê¸€ë¡œë²Œ ê¸°ë³¸ ìŠ¤íƒ€ì¼
   ================================================================= */

@layer base {
  /* í°íŠ¸ ë° ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì • */
  html {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  /* ì „ì—­ ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í„°ë§ˆì´ì§• (ì›¹í‚· ê¸°ë°˜ ë¸Œë¼ìš°ì €) */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }
}

/* =================================================================
    Components Layer - ì»´í¬ë„ŒíŠ¸ë³„ ìŠ¤íƒ€ì¼
   ================================================================= */

@layer components {
  /* ===== ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ë“¤ ===== */

  /* ë²„íŠ¼ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
  .btn-base {
    @apply inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
  }

  /* ì…ë ¥ í•„ë“œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
  .input-base {
    @apply flex w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-900 dark:text-white dark:placeholder:text-gray-400;
  }

  /* ê¸°ë³¸ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
  .card-base {
    @apply rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-900;
  }

  /* í”„ë¡œì íŠ¸ ì „ìš© ì¹´ë“œ */
  .cw-card {
    @apply rounded-xl border border-gray-200 bg-white p-3 shadow-sm;
  }
  .dark .cw-card {
    @apply border-gray-800 bg-gray-900;
  }

  /* Waterfall: ì ì„  ë§í¬/ë¼ë²¨ (SVG) */
  .cw-wf-link {
    stroke: #d1d5db;
    stroke-width: 1;
    stroke-dasharray: 4 4;
  }
  .cw-wf-label {
    fill: #6b7280;
    font-size: 10px;
    text-anchor: middle;
  }

  /* Funnel: ë¼ë²¨/ê°’ (SVG) */
  .cw-fn-label {
    fill: #6b7280;
    font-size: 12px;
    text-anchor: middle;
    font-weight: 500;
  }
  .cw-fn-value {
    fill: #111827;
    font-size: 12px;
    text-anchor: middle;
  }

  /* Gauge: ì¤‘ì•™ ê°’ ì˜¤ë²„ë ˆì´ */
  .cw-overlay-center {
    @apply -mt-16 text-center pointer-events-none;
  }

  /* Progress: ê³µìš© ìŠ¤í‚¨ */
  .cw-progress {
    width: 100%;
    height: 0.5rem;
    border-radius: 0.375rem;
    background: #e5e7eb;
  }
  .cw-progress::-webkit-progress-bar {
    background: #e5e7eb;
    border-radius: 0.375rem;
  }
  .cw-progress::-webkit-progress-value {
    border-radius: 0.375rem;
    background: #374151;
  }
  .cw-progress.cw-primary::-webkit-progress-value {
    background: #2563eb;
  }
  .cw-progress.cw-ok::-webkit-progress-value {
    background: #10b981;
  }
  .cw-progress.cw-warn::-webkit-progress-value {
    background: #f59e0b;
  }
  .cw-progress.cw-danger::-webkit-progress-value {
    background: #ef4444;
  }
}

/* Firefox progress ì±„ìš°ê¸° */
.cw-progress::-moz-progress-bar {
  background: #374151;
}
.cw-progress.cw-primary::-moz-progress-bar {
  background: #2563eb;
}
.cw-progress.cw-ok::-moz-progress-bar {
  background: #10b981;
}
.cw-progress.cw-warn::-moz-progress-bar {
  background: #f59e0b;
}
.cw-progress.cw-danger::-moz-progress-bar {
  background: #ef4444;
}

/* =================================================================
    Utilities Layer - ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë“¤
   ================================================================= */

@layer utilities {
  /* ===== ì• ë‹ˆë©”ì´ì…˜ ìœ í‹¸ë¦¬í‹° ===== */

  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out;
  }

  .animate-slide-in-left {
    animation: slideInLeft 0.3s ease-out;
  }

  /* ===== ë°°ê²½ ê·¸ë¼ë°ì´ì…˜ ìœ í‹¸ë¦¬í‹° ===== */

  .gradient-blue {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .gradient-purple {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  }

  /* ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ íš¨ê³¼ */
  .glass {
    /* ê¸°ë³¸ fallback ë°°ê²½ */
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.3);

    /* ì§€ì›í•˜ëŠ” ë¸Œë¼ìš°ì €ì—ì„œë§Œ ê¸€ë˜ìŠ¤ íš¨ê³¼ ì ìš© */
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);

    /* backdrop-filterë¥¼ ì§€ì›í•˜ëŠ” ë¸Œë¼ìš°ì €ì—ì„œë§Œ ë°˜íˆ¬ëª… ë°°ê²½ ì ìš© */
    @supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
      background: rgba(255, 255, 255, 0.1);
    }
  }

  /* ì°¨íŠ¸ ì „ìš© ìƒ‰ìƒ í´ë˜ìŠ¤ë“¤ */

  .chart-primary {
    @apply text-chart-primary;
  }

  .chart-success {
    @apply text-chart-success;
  }

  .chart-warning {
    @apply text-chart-warning;
  }

  .chart-danger {
    @apply text-chart-danger;
  }

  .chart-purple {
    @apply text-chart-purple;
  }

  .chart-cyan {
    @apply text-chart-cyan;
  }
}

/* =================================================================
    Recharts ì»¤ìŠ¤í„°ë§ˆì´ì§•
   ================================================================= */

.recharts-tooltip-wrapper {
  @apply z-50;
}

.recharts-default-tooltip {
  @apply !bg-white !border !border-gray-200 !rounded-lg !shadow-lg;
  @apply dark:!bg-gray-800 dark:!border-gray-600;
}

.recharts-cartesian-axis-tick-value {
  @apply !text-xs !fill-gray-500 dark:!fill-gray-400;
}

.recharts-cartesian-grid line {
  @apply !stroke-gray-200 dark:!stroke-gray-700;
}

/* =================================================================
    ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í„°ë§ˆì´ì§•
   ================================================================= */

@supports (scrollbar-width: thin) {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(163 163 163) transparent; /* gray-400 */
  }
  .scrollbar-hide {
    scrollbar-width: none; /* Firefoxì—ì„œ ì™„ì „ ìˆ¨ê¹€ */
  }
}

/* Webkit ê¸°ë°˜ ë¸Œë¼ìš°ì € (Chrome, Safari, Edge) */
.scrollbar-thin::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}
.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgb(163 163 163); /* gray-400 */
  border-radius: 4px;
}
.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: rgb(115 115 115); /* gray-500 */
}

/* ë‹¤í¬ ëª¨ë“œ í†¤ ë³´ì • */
.dark .scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgb(100 116 139); /* gray-500 */
}
.dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: rgb(148 163 184); /* gray-400 ~ gray-300 í†¤ì—… */
}

/* ìŠ¤í¬ë¡¤ë°” ê°ì¶”ê¸°(ìŠ¤í¬ë¡¤ì€ ìœ ì§€) */
.scrollbar-hide {
  -ms-overflow-style: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}

/* =================================================================
    ìƒíƒœë³„ í—¬í¼ í´ë˜ìŠ¤
   ================================================================= */

.loading-skeleton {
  @apply animate-pulse bg-gray-200 dark:bg-gray-700 rounded;
}

.disabled-state {
  @apply opacity-50 cursor-not-allowed pointer-events-none;
}

/* =================================================================
    ì ‘ê·¼ì„±
   ================================================================= */

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* =================================================================
    ì¸ì‡„ ìµœì í™”
   ================================================================= */

@media print {
  .no-print {
    display: none !important;
  }

  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
}

/* =================================================================
    í‚¤í”„ë ˆì„ ì• ë‹ˆë©”ì´ì…˜ ì •ì˜
   ================================================================= */

@keyframes fadeIn {
  '0%': { opacity: '0' },
  '100%': { opacity: '1' },
}

@keyframes slideUp {
  '0%': { transform: 'translateY(10px)', opacity: '0' },
  '100%': { transform: 'translateY(0)', opacity: '1' },
}

@keyframes slideInRight {
  '0%': { transform: 'translateX(100%)', opacity: '0' },
  '100%': { transform: 'translateX(0)', opacity: '1' },
}

@keyframes slideInLeft {
  '0%': { transform: 'translateX(-100%)', opacity: '0' },
  '100%': { transform: 'translateX(0)', opacity: '1' },
}

/* ìºëŸ¬ì…€ ìŠ¤íƒ€ì¼ */
.slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
}
.slideActive {
  opacity: 1;
}
.slideImg {
  object-fit: cover;
}
.overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(rgba(30, 58, 138, 0.7), rgba(30, 58, 138, 0.7));
}

/* ì‚¬ìš©ì â€œê°ì†Œëœ ëª¨ì…˜â€ ì„¤ì • ì¡´ì¤‘ */
@media (prefers-reduced-motion: reduce) {
  .slide {
    transition: none;
  }
}

@layer utilities {
  .animate-slide-in-up {
    animation: slideInUp 0.3s ease-out forwards;
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
